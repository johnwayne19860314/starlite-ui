(self.webpackChunk=self.webpackChunk||[]).push([[717,650,939],{87469:function(F,j,e){"use strict";e.r(j),e.d(j,{default:function(){return pe}});var P=e(97857),c=e.n(P),u=e(5574),f=e.n(u),i=e(67294),v=e(21612),B=e(68508),o=e(51159),I=e(22181),S=e(15867),t=e(85893),g=function(n){var s=n.user,a=n.children,d=s.authority,A=(0,o.useLocation)(),x=A.pathname,y=a,N=!0;return N||(y=(0,t.jsx)(I.ZP,{title:"403",status:"403",subTitle:"\u5BF9\u4E0D\u8D77, \u60A8\u6CA1\u6709\u8BBF\u95EE\u6B64\u9875\u9762\u7684\u6743\u9650",extra:(0,t.jsx)(S.ZP,{type:"primary",onClick:function(){return o.history.push("/")},children:"\u8FD4\u56DE\u9996\u9875"})})),y},Y=(0,o.connect)(function(l){var n=l.user;return{user:n}})(g),J=e(57953),R=e(54559),Q={"/api":{target:"http://starlite-first.ns-xx7juor7.svc.cluster.local:8080",changeOrigin:!0,pathRewrite:{"^/api":"/api/starlite"}}},X=Q,k={plugins:["@umijs/plugins/dist/dva"],proxy:X,dva:{},title:"UMI4 Admin",favicons:["/favicon.svg"]},w=function(n){var s,a=(0,o.useLocation)(),d=a.pathname,A=n.dispatch,x=n.children,y=n.user,N=y.isLogin,M=y.layoutWrapperLoading,le=y.indexValidMenuItemByPath,K=(s=le[d])===null||s===void 0?void 0:s.label,Z=k.title,oe=K?"".concat(K," - ").concat(Z):Z,U=(0,t.jsx)(J.Z,{size:"large",style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}});return M||(N?d!=="/login"&&(U=x):U=(0,t.jsx)(R.default,{})),(0,t.jsxs)(i.Fragment,{children:[(0,t.jsx)(o.Helmet,{children:(0,t.jsx)("title",{children:oe})}),U]})},r=(0,o.connect)(function(l){var n=l.user;return{user:n}})(w),q=e(85418),_=e(42075),ee=e(87462),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},te=L,ne=e(42135),H=function(n,s){return i.createElement(ne.Z,(0,ee.Z)({},n,{ref:s,icon:te}))},O=i.forwardRef(H),z=function(n){var s=n.user.data,a=n.dispatch,d=function(){a==null||a({type:"user/logout"})},A=[{key:"logout",label:(0,t.jsxs)("a",{onClick:d,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0 8px"},children:[(0,t.jsx)(O,{}),(0,t.jsx)("span",{children:"\u9000\u51FA\u767B\u5F55"})]})}];return(0,t.jsx)(q.Z,{menu:{items:A},children:(0,t.jsxs)(_.Z,{className:"avatar-container",children:[(0,t.jsx)("img",{alt:"avatar",src:s.avatar,className:"avatar"}),(0,t.jsx)("span",{className:"username",children:s.name})]})})},V=(0,o.connect)(function(l){var n=l.user;return{user:n}})(z),G=function(){return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("div",{className:"former",children:(0,t.jsx)("div",{className:"left",children:(0,t.jsxs)(o.Link,{to:"/",style:{display:"flex",alignItems:"center",gap:"0 15px",lineHeight:1},children:[(0,t.jsx)("img",{alt:"logo",src:"/logo.svg",className:"logo"}),(0,t.jsx)("h1",{style:{margin:0,color:"#fff",fontSize:"18px"},children:"UMI4 Admin"})]})})}),(0,t.jsx)("div",{className:"latter",children:(0,t.jsx)(V,{})})]})},ae=G,re=e(9826),W=e(96695),se=e.n(W),ie=function l(n,s){var a=[],d=se()(n),A;try{for(d.s();!(A=d.n()).done;){var x=A.value;x.hideInMenu||(x.children?a.push(c()(c()({},x),{},{children:l(x.children,s)})):a.push(s(x)))}}catch(y){d.e(y)}finally{d.f()}return a},D=ie,h=e(19632),p=e.n(h),T=function l(n,s){var a=[];return n?(a.push({id:n.id,key:n.key,path:n.path,label:n.label,redirect:n.redirect}),n.pid&&(a=[].concat(p()(a),p()(l(s[n.pid],s)))),a.reverse()):a},m=T,C=v.Z.Header,ve=v.Z.Content,he=v.Z.Sider,fe=function(n){if(!n.length)return[""];if(n.length===1)return n.map(function(d){return"".concat(d.key)});for(var s=[],a=0;a<n.length-1;a++)s.push("".concat(n[a].key));return s},ge=function(n){var s=(0,i.useState)(!1),a=f()(s,2),d=a[0],A=a[1],x=(0,i.useState)([""]),y=f()(x,2),N=y[0],M=y[1],le=(0,o.useLocation)(),K=le.pathname,Z=n.user,oe=Z.menu,U=Z.rootSubmenuKeys,de=Z.indexAllMenuItemById,ue=Z.indexValidMenuItemByPath,$=ue[K],me=$==null?void 0:$.key;(0,i.useEffect)(function(){M(fe(m(ue[K],de)))},[K,de,ue]);var xe=function(b){var ce=b.find(function(je){return N.indexOf(je)===-1});U.indexOf("".concat(ce))===-1?M(b):M(ce?[ce]:[""])},ye=D(oe,function(E){return c()(c()({},E),{},{label:E.path?(0,t.jsx)(o.Link,{to:E.path,style:{color:"inherit"},children:E.label}):E.label})});return(0,t.jsx)(r,{children:(0,t.jsxs)(v.Z,{style:{minHeight:"100vh"},children:[(0,t.jsx)(C,{style:{padding:"0",height:"auto"},children:(0,t.jsx)(ae,{})}),(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(he,{collapsible:!0,theme:"light",collapsed:d,onCollapse:function(b){return A(b)},children:(0,t.jsx)(B.Z,{mode:"inline",openKeys:N,items:ye,onOpenChange:xe,selectedKeys:[me]})}),(0,t.jsx)(v.Z,{children:(0,t.jsx)(ve,{style:{margin:"0 16px"},children:$?(0,t.jsx)(Y,{children:(0,t.jsx)(o.Outlet,{})}):(0,t.jsx)(re.default,{})})})]})]})})},pe=(0,o.connect)(function(l){var n=l.user;return{user:n}})(ge)},9826:function(F,j,e){"use strict";e.r(j);var P=e(51159),c=e(22181),u=e(15867),f=e(85893),i=function(){return(0,f.jsx)(c.ZP,{title:"404",status:"404",subTitle:"\u5BF9\u4E0D\u8D77, \u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728",extra:(0,f.jsx)(u.ZP,{type:"primary",onClick:function(){return P.history.push("/")},children:"\u8FD4\u56DE\u9996\u9875"})})};j.default=i},54559:function(F,j,e){"use strict";e.r(j),e.d(j,{default:function(){return ne}});var P=e(15009),c=e.n(P),u=e(99289),f=e.n(u),i=e(5574),v=e.n(i),B=e(67294),o=e(92398),I=e(26855),S=e(51159),t=e(87547),g=e(94149),Y=e(24454),J=e(68262),R=e(5966),Q=e(16434),X=e(63434),k=e(1210),w=e(39654),r=e(85893),q=function(){var O="\u8682\u8681\u96C6\u56E2\u4F53\u9A8C\u6280\u672F\u90E8\u51FA\u54C1",z=new Date().getFullYear();return(0,r.jsx)(w.q,{style:{backgroundColor:"inherit"},copyright:"".concat(z," ").concat(O),links:[{key:"Ant Design Pro",title:"Ant Design Pro",href:"https://pro.ant.design",blankTarget:!0},{key:"github",title:(0,r.jsx)(k.Z,{}),href:"https://github.com/ant-design/ant-design-pro",blankTarget:!0},{key:"Ant Design",title:"Ant Design",href:"https://ant.design",blankTarget:!0}]})},_=q,ee=e(6742),L={container:"container___ldtvs",lang:"lang___qrAB8",content:"content___wB3e_",icon:"icon___CBYA8"},te=function(O){var z=(0,B.useState)("account"),V=v()(z,2),G=V[0],ae=V[1],re=O.user,W=O.dispatch,se=function(){var D=f()(c()().mark(function h(p){return c()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:W==null||W({type:"user/login",payload:p});case 1:case"end":return m.stop()}},h)}));return function(p){return D.apply(this,arguments)}}(),ie=re.loginBtnLoading;return(0,r.jsxs)("div",{className:L.container,children:[(0,r.jsx)("div",{className:L.content,children:(0,r.jsxs)(J.U,{logo:(0,r.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Starlite web site",initialValues:{autoLogin:!0},submitter:{submitButtonProps:{loading:ie}},onFinish:function(){var D=f()(c()().mark(function h(p){return c()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,se(p);case 2:case"end":return m.stop()}},h)}));return function(h){return D.apply(this,arguments)}}(),children:[(0,r.jsx)(o.Z,{centered:!0,activeKey:G,onChange:ae,items:[{key:"account",label:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"}]}),G==="account"&&(0,r.jsxs)(B.Fragment,{children:[(0,r.jsx)(R.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(t.Z,{className:L.prefixIcon})},placeholder:"\u7528\u6237\u540D: "}),(0,r.jsx)(R.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,r.jsx)(g.Z,{className:L.prefixIcon})},placeholder:"\u5BC6\u7801: "})]}),G==="mobile"&&(0,r.jsxs)(B.Fragment,{children:[(0,r.jsx)(R.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(Y.Z,{className:L.prefixIcon})},name:"mobile",placeholder:"\u624B\u673A\u53F7: 1\u5F00\u5934\u768411\u4F4D\u6570\u5B57",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"},{pattern:/^1\d{10}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"}]}),(0,r.jsx)(Q.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(g.Z,{className:L.prefixIcon})},captchaProps:{size:"large"},placeholder:"\u9A8C\u8BC1\u7801: \u4EFB\u610F\u5B57\u7B26",captchaTextRender:function(h,p){return h?"".concat(p," \u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:function(){var D=f()(c()().mark(function h(p){var T;return c()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,ee.Jg)({phone:p});case 2:if(T=C.sent,!T.code){C.next=5;break}return C.abrupt("return");case 5:I.Z.success({message:"\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F! \u9A8C\u8BC1\u7801\u4E3A: 1234"});case 6:case"end":return C.stop()}},h)}));return function(h){return D.apply(this,arguments)}}()})]}),(0,r.jsxs)("div",{style:{marginBottom:24},children:[(0,r.jsx)(X.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,r.jsx)("a",{style:{float:"right"},children:"\u5FD8\u8BB0\u5BC6\u7801"})]})]})}),(0,r.jsx)(_,{})]})},ne=(0,S.connect)(function(H){var O=H.user;return{user:O}})(te)},96695:function(F,j,e){var P=e(96263);function c(u,f){var i=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!i){if(Array.isArray(u)||(i=P(u))||f&&u&&typeof u.length=="number"){i&&(u=i);var v=0,B=function(){};return{s:B,n:function(){return v>=u.length?{done:!0}:{done:!1,value:u[v++]}},e:function(g){throw g},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,I=!1,S;return{s:function(){i=i.call(u)},n:function(){var g=i.next();return o=g.done,g},e:function(g){I=!0,S=g},f:function(){try{!o&&i.return!=null&&i.return()}finally{if(I)throw S}}}}F.exports=c,F.exports.__esModule=!0,F.exports.default=F.exports}}]);
