"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[890,606],{81744:function(W,f,e){e.r(f);var a=e(97857),_=e.n(a),O=e(5574),v=e.n(O),p=e(67294),u=e(65520),d=e(45360),C=e(5914),D=e(69677),o=e(96330),t=e(85893),L={labelCol:{span:4},wrapperCol:{span:20}},h=function(m){var b=u.Z.useForm(),S=v()(b,1),P=S[0],g=m.visible,j=m.record,M=m.closeHandler,R=m.onFinish,T=m.confirmLoading;(0,p.useEffect)(function(){j===void 0?P.resetFields():P.setFieldsValue(_()({},j))},[g]);var I=function(){P.submit()},B=function(U){d.ZP.error(U.errorFields[0].errors[0])};return(0,t.jsx)("div",{children:(0,t.jsx)(C.Z,{title:j?"\u66F4\u6539\u6807\u7B7E : "+j.key:"\u65B0\u589E\u6807\u7B7E",visible:g,onOk:I,onCancel:M,forceRender:!0,confirmLoading:T,children:(0,t.jsxs)(u.Z,_()(_()({},L),{},{name:"basic",form:P,onFinish:R,onFinishFailed:B,initialValues:{status:!0},children:[(0,t.jsx)(u.Z.Item,{label:"\u6807\u7B7E\u540D",name:"key",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u7B7E\u540D!"}],children:(0,t.jsx)(D.Z,{})}),(0,t.jsx)(u.Z.Item,{label:"\u8BF4\u660E",name:"note",children:(0,t.jsx)(o.Z,{})})]}))})})};f.default=h},43088:function(W,f,e){e.r(f);var a=e(15009),_=e.n(a),O=e(99289),v=e.n(O),p=e(5574),u=e.n(p),d=e(67294),C=e(86738),D=e(45360),o=e(15867),t=e(32666),L=e(81744),h=e(94053),c=e(85893),m={key:"",label:"",note:""},b=function(){var P=(0,d.useState)(!1),g=u()(P,2),j=g[0],M=g[1],R=(0,d.useState)(!1),T=u()(R,2),I=T[0],B=T[1],F=(0,d.useState)(m),U=u()(F,2),K=U[0],Z=U[1],V=(0,d.useState)([]),H=u()(V,2),G=H[0],N=H[1],z=(0,d.useState)(!1),x=u()(z,2),$=x[0],k=x[1];(0,d.useEffect)(function(){var i=function(){var E=v()(_()().mark(function l(){var s;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,h.sM)({IsActive:!0});case 3:s=r.sent,N(s.data.items),console.log(s),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error("Error fetching data:",r.t0);case 11:case"end":return r.stop()}},l,null,[[0,8]])}));return function(){return E.apply(this,arguments)}}();i()},[$]);var J=[{title:"\u6807\u7B7E",dataIndex:"key",key:"key",valueType:"text"},{title:"\u8BF4\u660E",dataIndex:"note",key:"note"},{title:"\u64CD\u4F5C",key:"action",valueType:"option",render:function(E,l){return[(0,c.jsx)("a",{onClick:function(){Q(l)},children:"\u66F4\u6539"}),(0,c.jsx)(C.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u6B64\u6807\u7B7E\u5417\uFF1F\u4E0E\u4E4B\u76F8\u5173\u7684\u539F\u6599\u6E05\u5355\u90FD\u4F1A\u88AB\u5220\u9664",onConfirm:function(){X(l.key)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,c.jsx)("a",{children:"\u5220\u9664"})})]}}],Q=function(E){M(!0),Z(E)},X=function(E){var l=function(){var s=v()(_()().mark(function y(){var r;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.Es)(E);case 3:r=n.sent,console.log(r),A(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("Error fetching data:",n.t0);case 11:case"end":return n.stop()}},y,null,[[0,8]])}));return function(){return s.apply(this,arguments)}}();l()},Y=function(){M(!1)},w=function(){var i=v()(_()().mark(function E(l){var s,y,r;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("=======",l),B(!0),s="",K&&(s=K.key),s?y=h._4:y=h.eL,n.next=7,y({entryCategory:{category:l.key,note:l.note}});case 7:r=n.sent,r?(M(!1),D.ZP.success("".concat(s===""?"\u65B0\u589E":"\u66F4\u6539"," \u6210\u529F\u3002")),A()):D.ZP.error("".concat(s===""?"\u65B0\u589E":"\u66F4\u6539"," \u5931\u8D25\u3002")),B(!1);case 10:case"end":return n.stop()}},E)}));return function(l){return i.apply(this,arguments)}}(),q=function(){M(!0),B(!1),Z(m)},A=function(){k(!$)};return(0,c.jsxs)("div",{className:"list-table",children:[(0,c.jsx)(t.ZP,{columns:J,dataSource:G,rowKey:"key",search:!1,options:{density:!0,fullScreen:!0,reload:function(){A()},setting:!0},headerTitle:"\u6807\u7B7E\u7C7B\u578B\u5217\u8868",toolBarRender:function(){return[(0,c.jsx)(o.ZP,{type:"primary",onClick:q,children:"\u65B0\u589E"}),(0,c.jsx)(o.ZP,{onClick:A,children:"\u5237\u65B0"})]}}),(0,c.jsx)(L.default,{visible:j,closeHandler:Y,record:K,onFinish:w,confirmLoading:I})]})};f.default=b},94053:function(W,f,e){e.d(f,{Es:function(){return u},_4:function(){return p},eL:function(){return v},h:function(){return _},ld:function(){return C},m7:function(){return D},px:function(){return d},sM:function(){return O}});var a=e(48931),_=function(t){return a.Z.post("/api/v1/entries/list",t)},O=function(t){return a.Z.post("/api/v1/entry/category/list",t)},v=function(t){return a.Z.post("/api/v1/entry/category",t)},p=function(t){return a.Z.put("/api/v1/entry/category",t)},u=function(t){return a.Z.delete("/api/v1/entry/category/".concat(t))},d=function(t){return a.Z.post("/api/v1/entry",t)},C=function(t){return a.Z.put("/api/v1/entry",t)},D=function(t){return a.Z.delete("/api/v1/entry/".concat(t))}}}]);
